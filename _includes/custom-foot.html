<script>
    var activeLink;
    if ($(window).width() < 790) {
        activeLink = $('.page-title');
    } else {
        activeLink = $('.page-link.active');
    }
    if (activeLink) {
        var activeLinkLetters = activeLink.text().split("");
        activeLink.html("");
        activeLinkLetters.forEach(function (currentValue) {
            activeLink.append("<span class=\"page-link-char\">" + currentValue);
        });
    }

    var time = 0;
    var timePrev = 0;
    var linkCharFade = 0.0;
    function sidebarAnimation() {
        if (timePrev != 0) {
            time += (Date.now() - timePrev);
        }
        timePrev = Date.now();
        linkCharFade = Math.min(1., time / 200.0);
        //$('.page-link.active').css('letter-spacing', (.05 + Math.sin(time / 1000) * 0.05).toString() + 'rem');          
        $('.page-link-char').each(function (index) {
            $(this).css('opacity', (.75 + Math.sin(index * .5 + time / 200) * .25).toString());
            $(this).css('letter-spacing', (linkCharFade * (.08 + Math.sin(index * .5 + time / 200.0) * 0.04)).toString() + 'rem');
            //$(this).css('padding-right', (0.2 + Math.sin(index * .5 + time / 100) * 0.1).toString() + "rem");
        });


        window.requestAnimationFrame(sidebarAnimation);
    }
    window.requestAnimationFrame(sidebarAnimation);




</script>

{% include cookie-consent.html %}